/* High Contrast Mode */
body.high-contrast {
  --background: #ffffff;
  --foreground: #000000;
  --accent: #0057ff;
  background-color: var(--background);
  color: var(--foreground);
  filter: none !important;
}

/* Links */
body.high-contrast a {
  color: #0044ff;
  text-decoration: underline;
}

body.high-contrast a:hover,
body.high-contrast a:focus-visible {
  color: #001e99;
}

/* Interactive Elements */
body.high-contrast button,
body.high-contrast [role='button'] {
  outline-color: var(--accent);
}

body.high-contrast button:focus-visible,
body.high-contrast [role='button']:focus-visible {
  outline: 3px solid var(--accent);
  outline-offset: 3px;
}

/* All Media Elements - Grayscale with Enhanced Contrast */
body.high-contrast img,
body.high-contrast video,
body.high-contrast picture,
body.high-contrast canvas,
body.high-contrast svg,
body.high-contrast [data-media],
body.high-contrast [role='img'],
body.high-contrast [style*='background-image'] {
  filter: grayscale(1) contrast(1.3) brightness(0.95) !important;
  opacity: 1 !important;
}

/* Preserve Transparency */
body.high-contrast [style*='background-image'] {
  background-color: transparent !important;
}

/* Overlay Elements */
body.high-contrast .backdrop-blur-sm {
  backdrop-filter: blur(4px) !important;
}

/* Buttons and elements that use the accent background should show white text
   in high-contrast mode so text remains legible against the accent color. */
body.high-contrast .bg-accent,
body.high-contrast [class*='bg-accent/'] {
  color: var(--background) !important; /* usually white */
}

/* Ensure any children (icons, spans, svgs) inside accent backgrounds also
   get the adjusted color for consistent contrast. */
body.high-contrast .bg-accent *,
body.high-contrast [class*='bg-accent/'] * {
  color: inherit !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Badges: garantir contraste adequado para badges coloridas (verde, laranja,
   vermelho, azul) usadas no painel admin. No modo de alto contraste mapeamos
   as badges para o accent do sistema (ou cores de alto contraste) e forçamos
   ícones/filhos a herdarem a cor para consistência. */
body.high-contrast .text-green-600,
body.high-contrast .bg-green-600\/10,
body.high-contrast [class*='text-green-600'],
body.high-contrast [class*='bg-green-600/'] {
  color: var(--background) !important; /* branco */
  background-color: var(--accent) !important; /* usar accent para destaque */
  border-color: transparent !important;
}

body.high-contrast .text-orange-600,
body.high-contrast .bg-orange-600\/10,
body.high-contrast [class*='text-orange-600'],
body.high-contrast [class*='bg-orange-600/'] {
  color: var(--background) !important;
  background-color: #d43f00 !important; /* laranja mais escuro para contraste */
  border-color: transparent !important;
}

body.high-contrast .text-red-600,
body.high-contrast .bg-red-600\/10,
body.high-contrast [class*='text-red-600'],
body.high-contrast [class*='bg-red-600/'] {
  color: var(--background) !important;
  background-color: #b30000 !important; /* vermelho escuro */
  border-color: transparent !important;
}

body.high-contrast .text-blue-600,
body.high-contrast .bg-blue-600\/10,
body.high-contrast [class*='text-blue-600'],
body.high-contrast [class*='bg-blue-600/'] {
  color: var(--background) !important;
  background-color: var(--accent) !important;
  border-color: transparent !important;
}

/* Garantir que ícones e textos internos nas badges sigam a cor definida */
body.high-contrast .text-green-600 *,
body.high-contrast .text-orange-600 *,
body.high-contrast .text-red-600 *,
body.high-contrast .text-blue-600 *,
body.high-contrast [class*='bg-green-600/'] *,
body.high-contrast [class*='bg-orange-600/'] *,
body.high-contrast [class*='bg-red-600/'] *,
body.high-contrast [class*='bg-blue-600/'] * {
  color: inherit !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Some interactive elements use text-accent on top of accent backgrounds;
   force them to inherit the background text color when inside an accent
   background. This helps login buttons and workshop CTAs remain white. */
body.high-contrast .bg-accent .text-accent,
body.high-contrast .bg-accent.text-accent,
body.high-contrast [class*='bg-accent/'] .text-accent,
body.high-contrast [class*='bg-accent/'][class*='text-accent'] {
  color: inherit !important;
}

/* Caso um elemento combine `text-accent` e `bg-accent/10` (badge "Você"),
   garantir que o texto fique branco e o fundo use a cor de accent sólida para
   contraste (override de baixa opacidade). */
body.high-contrast [class*='bg-accent/'][class*='text-accent'],
body.high-contrast .bg-accent.text-accent {
  color: var(--background) !important;
  background-color: var(--accent) !important;
  border-color: transparent !important;
}

/* Blog Hero Section - High Contrast */
body.high-contrast .page-hero {
  background-color: var(--accent) !important;
  color: var(--background) !important;
  border-color: var(--foreground) !important;
}

body.high-contrast .page-hero h1,
body.high-contrast .page-hero p {
  color: var(--background) !important;
}

/* Seção Sobre La Tazza - High Contrast */
body.high-contrast section[aria-label='Sobre La Tazza'],
body.high-contrast section[data-section='sobre-la-tazza'] {
  background-color: var(--foreground) !important;
}

/* Título e subtítulo principais em branco */
body.high-contrast section[aria-label='Sobre La Tazza'] > div > h2,
body.high-contrast section[data-section='sobre-la-tazza'] > div > h2,
body.high-contrast section[aria-label='Sobre La Tazza'] > div > p:first-of-type,
body.high-contrast
  section[data-section='sobre-la-tazza']
  > div
  > p:first-of-type {
  color: var(--background) !important;
}

/* Títulos e textos dos cards em preto */
body.high-contrast section[aria-label='Sobre La Tazza'] h3,
body.high-contrast section[data-section='sobre-la-tazza'] h3 {
  color: var(--foreground) !important;
}

body.high-contrast section[aria-label='Sobre La Tazza'] .bg-background\/90 p,
body.high-contrast section[data-section='sobre-la-tazza'] .bg-background\/90 p {
  color: var(--foreground) !important;
}

body.high-contrast section[aria-label='Sobre La Tazza'] .bg-background\/90,
body.high-contrast section[data-section='sobre-la-tazza'] .bg-background\/90 {
  background-color: var(--background) !important;
  border-color: var(--foreground) !important;
  border-width: 2px !important;
}

body.high-contrast section[aria-label='Sobre La Tazza'] .backdrop-blur-sm,
body.high-contrast section[data-section='sobre-la-tazza'] .backdrop-blur-sm {
  backdrop-filter: none !important;
}

/* Courses Page CTA Section - "Não encontrou o curso ideal?" */
body.high-contrast section.bg-accent\/10 h2,
body.high-contrast section.bg-accent\/10 p,
body.high-contrast section[class*='bg-accent/10'] h2,
body.high-contrast section[class*='bg-accent/10'] p {
  color: var(--foreground) !important;
}

/* Contact Page - FAQ Section */
body.high-contrast .bg-accent\/5 h3,
body.high-contrast .bg-accent\/5 p,
body.high-contrast [class*='bg-accent/5'] h3,
body.high-contrast [class*='bg-accent/5'] p,
body.high-contrast .bg-accent\/5 a,
body.high-contrast [class*='bg-accent/5'] a {
  color: var(--foreground) !important;
}

/* Contact Page - Location Section */
body.high-contrast section.bg-accent\/5 h2,
body.high-contrast section[class*='bg-accent/5'] h2,
body.high-contrast section.bg-accent\/5 .text-foreground\/70,
body.high-contrast section[class*='bg-accent/5'] .text-foreground\/70,
body.high-contrast section.bg-accent\/5 .text-foreground\/50,
body.high-contrast section[class*='bg-accent/5'] .text-foreground\/50 {
  color: var(--foreground) !important;
}

/* Contact Page - MapPin Icon and inner content in Location Section */
body.high-contrast section.bg-accent\/5 svg,
body.high-contrast section[class*='bg-accent/5'] svg,
body.high-contrast section.bg-accent\/5 .bg-accent\/10 svg,
body.high-contrast section[class*='bg-accent/5'] [class*='bg-accent/10'] svg {
  color: var(--foreground) !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Contact Page - Location Section inner content */
body.high-contrast section.bg-accent\/5 .bg-accent\/10 p,
body.high-contrast section[class*='bg-accent/5'] [class*='bg-accent/10'] p {
  color: var(--foreground) !important;
}

/* Google Login Button - ensure black text, icon and strong borders */
body.high-contrast button[aria-label*='Google'] {
  color: var(--foreground) !important;
  border-color: var(--foreground) !important;
  border-width: 2px !important;
}

body.high-contrast button[aria-label*='Google'] span {
  color: var(--foreground) !important;
}

body.high-contrast button[aria-label*='Google'] svg {
  filter: none !important;
  fill: var(--foreground) !important;
  color: var(--foreground) !important;
}

/* Course Card - difficulty badge should have black text */
body.high-contrast .bg-background\/90.backdrop-blur-sm {
  color: var(--foreground) !important;
}
