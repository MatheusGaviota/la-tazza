/* High Contrast Mode */
body.high-contrast {
  --background: #ffffff;
  --foreground: #000000;
  --accent: #0057ff;
  background-color: var(--background);
  color: var(--foreground);
  filter: none !important;
}

/* Links */
body.high-contrast a {
  color: #0044ff;
  text-decoration: underline;
}

body.high-contrast a:hover,
body.high-contrast a:focus-visible {
  color: #001e99;
}

/* Interactive Elements */
body.high-contrast button,
body.high-contrast [role='button'] {
  outline-color: var(--accent);
}

body.high-contrast button:focus-visible,
body.high-contrast [role='button']:focus-visible {
  outline: 3px solid var(--accent);
  outline-offset: 3px;
}

/* All Media Elements - Grayscale with Enhanced Contrast */
body.high-contrast img,
body.high-contrast video,
body.high-contrast picture,
body.high-contrast canvas,
body.high-contrast svg,
body.high-contrast [data-media],
body.high-contrast [role='img'],
body.high-contrast [style*='background-image'] {
  filter: grayscale(1) contrast(1.3) brightness(0.95) !important;
  opacity: 1 !important;
}

/* Preserve Transparency */
body.high-contrast [style*='background-image'] {
  background-color: transparent !important;
}

/* Overlay Elements */
body.high-contrast .backdrop-blur-sm {
  backdrop-filter: blur(4px) !important;
}

/* Buttons and elements that use the accent background should show white text
   in high-contrast mode so text remains legible against the accent color. */
body.high-contrast .bg-accent,
body.high-contrast [class*='bg-accent/'] {
  color: var(--background) !important; /* usually white */
}

/* Ensure any children (icons, spans, svgs) inside accent backgrounds also
   get the adjusted color for consistent contrast. */
body.high-contrast .bg-accent *,
body.high-contrast [class*='bg-accent/'] * {
  color: inherit !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Some interactive elements use text-accent on top of accent backgrounds;
   force them to inherit the background text color when inside an accent
   background. This helps login buttons and workshop CTAs remain white. */
body.high-contrast .bg-accent .text-accent,
body.high-contrast [class*='bg-accent/'] .text-accent {
  color: inherit !important;
}
